---
import { getEntry } from 'astro:content';
import MainLayout from '../layouts/MainLayout.astro';

const page = await getEntry('pages', 'conditions/breaking');
if (!page) {
  throw new Error('Breaking page not found');
}

const { Content } = await page.render();
const title = page.data.title || 'Sierra Conditions';
const description = page.data.description || 'Current year permits, fire restrictions, and breaking news for the Sierra Nevada';
---

<MainLayout title={title} description={description}>
  <article>
    <h1>{page.data.title}</h1>
    {page.data.description && (
      <p style="font-size: 1.125rem; color: var(--pico-muted-color); margin-bottom: 2rem;">
        {page.data.description}
      </p>
    )}
    <Content />
  </article>
</MainLayout>
